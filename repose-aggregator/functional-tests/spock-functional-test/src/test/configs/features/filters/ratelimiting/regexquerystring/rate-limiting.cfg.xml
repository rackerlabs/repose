<?xml version="1.0" encoding="UTF-8"?>
<rate-limiting xmlns="http://docs.rackspacecloud.com/repose/rate-limiting/v1.0"
               use-capture-groups="true">

    <request-endpoint uri-regex="/service/limits" include-absolute-limits="false"/>

    <limit-group id="domain-queries" groups="dbaas" default="false">
        <limit id="test" uri="/domain?queries=*" uri-regex="/domain(.*)" query-string-regex="name=.*" http-methods="ALL" unit="MINUTE" value="3"/>
    </limit-group>

    <limit-group id="domain-queries2" groups="dbaas2" default="false">
        <limit id="test" uri="/domain?queries=*" uri-regex="/domain(.*)" query-string-regex="search=.*" http-methods="ALL" unit="MINUTE" value="3"/>
    </limit-group>

    <limit-group id="domain-queries3" groups="dbaas3" default="false">
        <limit id="test1" uri="/domain?name=T(*) query=*" uri-regex="/domain(.*)" query-string-regex="name=T(.*)&amp;search=.*" http-methods="ALL" unit="MINUTE" value="1"/>
        <limit id="test2" uri="/domain?name=Bob query=*" uri-regex="/domain(.*)" query-string-regex="name=Bob&amp;search=.*" http-methods="ALL" unit="MINUTE" value="0"/>
    </limit-group>

</rate-limiting>
