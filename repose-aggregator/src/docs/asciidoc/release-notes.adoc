= Release Notes

== In Progress Work

* https://repose.atlassian.net/browse/REP-5748[REP-5748] - Updated the <<services/phone-home.adoc#, Phone Home Service>> to correct a bug that was preventing the message from actually reaching back.
* https://repose.atlassian.net/browse/REP-5116[REP-5116] - Updated the Jetty version used in the <<services/datastores.adoc#_distributed_datastore, Distributed Datastore service>> and <<recipes/valve-installation.adoc#, Valve>> artifact from v9.2.0.v20140526 to v9.2.22.v20170606.

== In Progress Work

* https://repose.atlassian.net/browse/REP-5737[REP-5737] - Updated the following filters to correct a typo that would prevent proper configuration schema validation.
** <<filters/ip-user.adoc#,IP User Filter>>
** <<filters/keystone-v2-basic-auth.adoc#, Keystone v2 Basic Auth Filter>>
** <<filters/openstack-identity-v3.adoc#, Openstack Identity v3 Filter>>
** <<filters/rackspace-auth-user.adoc#, Rackspace Auth User Filter>>
** <<filters/saml-policy.adoc#, SAML Policy Translation Filter>>

[IMPORTANT]
====
As part of this correction, any configurations that were taking advantage of this lack of validation will cease to function.
====

== 8.6.2.0 (2017-06-13)

* https://repose.atlassian.net/browse/REP-5757[REP-5757] - Updated the <<filters/saml-policy.adoc#, SAML Policy Translation Filter>> to utilize YAML policy files.
** Updated the `attribute-mapper` library from v1.1.1 to v1.2.0 to bring in the YAML updates made in https://repose.atlassian.net/browse/REP-5632[REP-5632]
* https://repose.atlassian.net/browse/REP-5592[REP-5592] - Updated the <<filters/attribute-mapping-policy-validation.adoc#,Attribute Mapping Policy Validation Filter>> to only work for YAML bodies.
* https://repose.atlassian.net/browse/REP-5694[REP-5694] - Updated the <<filters/valkyrie-authorization.adoc#,Valkyrie Authorization Filter>> versioned docs to point to the current Valkyrie service documentation.

== 8.6.1.1 (2017-06-08)

* https://repose.atlassian.net/browse/REP-5520[REP-5520] - Updated the <<filters/keystone-v2.adoc#, Keystone v2 Filter>> to provide the token cache key, and to generally handle `401` - _Unauthroized_ responses.
* https://repose.atlassian.net/browse/REP-5347[REP-5347] - updated the Attribute Mapping library from v1.0.2 to v1.1.1.
* https://repose.atlassian.net/browse/REP-5595[REP-5595] - Updated the <<filters/attribute-mapping-policy-validation.adoc#,Attribute Mapping Policy Validation Filter>> to utilize new Attribute Mapping library features for cleaner JSON validation.

== 8.6.0.0 (2017-06-02)

* https://repose.atlassian.net/browse/REP-5234[REP-5234] - added the new <<services/datastores.adoc#_remote_datastore, Remote Datastore service>> which allows the Distributed Datastore service concept to work in dynamic containerized environments like OpenShift.
* https://repose.atlassian.net/browse/REP-5343[REP-5343] - Updated the Keystone v2 Filter to support the new Apply RCN Roles feature of Rackspace Keystone v2 Identity.
Converted the https://repose.atlassian.net/wiki/display/REPOSE/Keystone+v2+filter[old Keystone v2 Filter documentation] over to the <<filters/keystone-v2.adoc#, new versioned docs>>.
* https://repose.atlassian.net/browse/REP-5345[REP-5345] - the <<filters/attribute-mapping-policy-validation.adoc#,Attribute Mapping Policy Validation Filter>> has been released!
* https://repose.atlassian.net/browse/REP-5523[REP-5523] - the <<recipes/functional-test-framework.adoc#,Repose Functional Test Framework>> has been released!
* https://repose.atlassian.net/browse/REP-5221[REP-5221] - Updated the API Checker library from v2.1.1 to v2.2.1.
** This brings the bulk metadata feature to the <<filters/api-validator.adoc#, API Validator filter>>.

== 8.5.0.1 (2017-04-14)

* https://repose.atlassian.net/browse/REP-4024[REP-4024] - the <<filters/header-normalization.adoc#, Header Normalization Filter>> updated to include removing headers on the Response.
* https://repose.atlassian.net/browse/REP-3901[REP-3901] - the Debian and RPM Repose Valve and WAR artifacts will now create the `repose` user and group even if the configuration files are already present.
* https://repose.atlassian.net/browse/REP-5130[REP-5130] - <<filters/rackspace-auth-user.adoc#, Rackspace Auth User Filter>> now gives a more specific and quieter log message when it runs into a non-xml or non-json content type.
* https://repose.atlassian.net/browse/REP-4754[REP-4754] - the <<filters/rate-limiting.adoc#, Rate Limiting Filter>> now returns a 406 if a user requests limits with an unsupported media type in the `Accept` header.
* https://repose.atlassian.net/browse/REP-4725[REP-4725] - Repose will no longer add a `Server` header to responses from neither the main endpoint nor the Dist-Datastore endpoint.
* https://repose.atlassian.net/browse/REP-5204[REP-5204] - the <<services/metrics.adoc#, Metrics Service>> library has been updated from Yammer v2.2.0 to Dropwizard v3.2.0.
The service interface has also been modified to provide a simpler, more flexible experience.
+
[IMPORTANT]
====
As part of the upgrade, some metric names reported by various components have been changed.
Furthermore, all metrics reported to JMX via the <<services/metrics.adoc#,Metrics Service>> now follow a new naming scheme.
Due to a technical issue with the new version of the metric library, EHCache metrics are no longer being reported, but there is planned work to restore them.
See <<services/metrics.adoc#,Metrics Service>> for details on the metrics currently being reported.
====
* https://repose.atlassian.net/browse/REP-5214[REP-5214] - the `Via` header configuration has been expanded in a backwards compatible way.
However, there were some internal contract changes with the Via and Location header builders, but they should not affect any custom filters.
* https://repose.atlassian.net/browse/REP-4465[REP-4465] - certain enums provided by Repose have been replaced by classes holding the same constant values.

== 8.4.1.0 (2017-02-24)

* https://repose.atlassian.net/browse/REP-5101[REP-5101] - <<filters/saml-policy.adoc#, SAML Policy Translation Filter>> now allows un-encoded `application/xml` requests in addition to the previous `application/x-www-form-urlencoded` requests.

== 8.4.0.2 (2017-02-21)

* https://repose.atlassian.net/browse/REP-5100[REP-5100] - <<filters/rate-limiting.adoc#, Rate Limiting Filter>> was mistakenly getting the full parameter map, and not just the query parameters.
* https://repose.atlassian.net/browse/REP-5071[REP-5071] - Repose is now using Attribute Mapping v1.0.2.

== 8.4.0.1 (2017-02-04)

* https://repose.atlassian.net/browse/REP-4795[REP-4795] https://repose.atlassian.net/browse/REP-4831[REP-4831] - the <<filters/saml-policy.adoc#, SAML Policy Translation Filter>> has been released!
* https://repose.atlassian.net/browse/REP-4653[REP-4653] - the <<filters/rackspace-auth-user.adoc#, Rackspace Auth User Filter>> updated to read request body of Forgot Password request to get the username and the <<filters/herp.adoc#, Highly Efficient Record Processor (HERP) Filter>> was updated to get `X-User-Name` from response headers.
* https://repose.atlassian.net/browse/REP-4928[REP-4928] - the <<filters/keystone-v2.adoc#, Keystone v2 Filter>> will now return a 401 if self-validating tokens are being used and the Identity service responds with a 401.
* https://repose.atlassian.net/browse/REP-4841[REP-4841] - a more unique ID will be used for User Access Events (UAE) in support of Cloud Auditing Data Federation (CADF).
* https://repose.atlassian.net/browse/REP-4867[REP-4867] - the <<filters/valkyrie-authorization.adoc#, Valkyrie Authorization Filter>> now supports multiple Character Encoding schemes.
* https://repose.atlassian.net/browse/REP-4954[REP-4954] - added support for Form Encoded requests (`Content-Type: application/x-www-form-urlencoded`).
* https://repose.atlassian.net/browse/REP-4880[REP-4880] - internal utility classes JCharSequence and MessageDigester were removed.
* https://repose.atlassian.net/browse/REP-4892[REP-4892] - versioned searching of these docs has been fixed.
* https://repose.atlassian.net/browse/REP-4999[REP-4999] - leading and trailing whitespace in directory values in the container.cfg.xml file are now ignored.

== 8.3.0.1 (2016-12-13)

* https://repose.atlassian.net/browse/REP-4764[REP-4764] - `sendError` in the response wrapper will now call `sendError` on the underlying response when appropriate.

== Prior Releases

* https://repose.atlassian.net/wiki/display/REPOSE/Repose+Release+Notes[Legacy Release Notes]
