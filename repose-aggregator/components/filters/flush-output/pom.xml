<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <parent>
        <groupId>org.openrepose</groupId>
        <artifactId>filters-support</artifactId>
        <version>7.3.8.3-SNAPSHOT</version>
    </parent>

    <name>Repose Components - Flush Output Stream</name>
    <artifactId>flush-output</artifactId>
    <packaging>jar</packaging>

    <description>
        Force repose to write the output stream to the prior filter in the chain

        This can be a good idea when using 3rd party filters, when it may be useful to
        force repose to output response data to the output stream.

        This happens in FlushOutputHandler. Whenever handleResponse is called,
        the request and response are wrapped into a MutableHttpServletResponse.

        commitBufferToServletOutputStream is then invoked on the Mutable Response,
        forcing all buffered response data to the output stream.

        This filter doesn't return any response codes or create any request headers, it simple
        flushes data and passes through the request to the next filter (or origin service if it's the last one)
    </description>

    <properties>
        <sonar.jacoco.itReportPath>${project.basedir}/../../../target/jacoco-it.exec</sonar.jacoco.itReportPath>
    </properties>

    <dependencies>
        <dependency>
            <groupId>org.openrepose</groupId>
            <artifactId>core-lib</artifactId>
        </dependency>

        <dependency>
            <groupId>org.openrepose</groupId>
            <artifactId>core-service-api</artifactId>
        </dependency>

        <dependency>
            <groupId>org.jvnet.jaxb2_commons</groupId>
            <artifactId>jaxb2-basics-runtime</artifactId>
        </dependency>

        <dependency>
            <groupId>org.openrepose</groupId>
            <artifactId>utilities</artifactId>
        </dependency>
    </dependencies>

    <build>
        <plugins>
            <plugin>
                <groupId>org.jvnet.jaxb2.maven2</groupId>
                <artifactId>maven-jaxb2-plugin</artifactId>

                <configuration>

                    <specVersion>2.1</specVersion>

                    <schemaIncludes>
                        <include>**/*.xsd</include>
                    </schemaIncludes>
                    <bindingIncludes>
                        <include>**/*.xjb</include>
                    </bindingIncludes>

                    <strict>true</strict>
                    <verbose>false</verbose>

                </configuration>
            </plugin>
        </plugins>
    </build>
</project>
